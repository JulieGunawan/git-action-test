name: label new contributor

on:
  issues:
    types: [opened]
  pull_request_target:
    types: [opened]

jobs:
  label:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/labeler@v4
        with:
          repo-token: ${{secrets.TOKEN_SECRET}}
          # Add a label when contributor opens an issue or pull request
          script: | 
            if (github.event_name=="issue") {
              await github.rest.issues.addLabels({
              pr-number: context.issue.number,
              owner: context.repo.owner,
              repo: context.repo.repo,
              labels:["issues"]
              });
            }
